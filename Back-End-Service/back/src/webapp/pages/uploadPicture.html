<!DOCTYPE html>
<html lang="en">
<head >
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片检索</title>

    <link href="../img/logo.jpg" rel="icon" type="image/x-ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" href="../css/typo.css" >
    <link rel="stylesheet" href="../css/animate.css" >
    <link rel="stylesheet" href="../lib/prism/prism.css" >
    <link rel="stylesheet" href="../lib/tocbot/tocbot.css">
    <link rel="stylesheet" href="../css/index.css" >
    <link rel="stylesheet" href="../css/timeline.css" >


    <link rel="stylesheet" href="../lib/editormd/css/editormd.min.css">


    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
    <script src="../semantic-ui/semantic.min.js"></script>

    <script src="../js/echarts.min.js"></script>
    <style>
        #upload-text {
            margin-left: 480px;
            margin-top: 20px;
            margin-bottom: 20px;
            align-content: center;
        }
        #box1 {
            width: 100px;
            height: 300px;
        }
    </style>
</head>
<body>
<div id="app">
    <!--导航栏-->
    <nav id="nav" class="navication">
        <div class="ui container">
            <div class="ui inverted secondary stackable menu">
                <h2 class="ui olive header item" style="font-family: STSong">如你所想</h2>
                <!--<div class="right m-item item m-mobile-hide">-->
                <a href="../pages/index.html" class="m-item item"><i class="home icon"></i>主页</a>
                <a href="../pages/select.html" class="m-item item"><i class="book icon"></i>我的文章</a>
                <a href="../pages/uploadPicture.html" class="m-item item"><i class="pencil alternate icon"></i>图片检索</a>
            </div>
        </div>
        <a href="#" class="ui menu toggle black icon button m-right-top m-mobile-show">
            <i class="sidebar icon"></i>
        </a>
    </nav>

    <!--标题-->
    <div class="m-bg-type_outer" style="width: 100%;height: 40%">
      <!-- <img src="../img/bg.jpg" alt="" class="ui m-bg image" style="width: 100%;height: 100%"> -->
        <img src="../img/bg.jpg" alt="" class="ui m-bg image" style="height: 350px">
        <div class="m-bg-class_cover">
            <div class="ui container" style="position: relative ;bottom: -350px;">
                <h2 class="m-font-size-title-large" align="center">图片检索</h2>
                <div class="ui container" align="center">
                    <div class="ui horizontal link list" align="center">
                        <div class="item">
                            <span class="m-font-size-text-mini">通过上传图片，可以查找对应的文章</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 中间内容展示 -->
    <div id="waypoint" class="m-margin- animated fadeIn">
        <div class="ui container m-opacity box-shadow-max">
            <!--内容-->
            <div class="ui attached padded segment">

                <!--内容-->
                <div id="upload-text">
                    <h1>上传图片</h1>
                </div>
                <el-upload
                        class="upload-demo"
                        ref="uploadPicture"
                        action="http://127.0.0.1:5000"
                        :name="query_img"
                        :file-list="fileList1"
                        :on-change="handleChangeOther"
                        :on-remove="handleRemoveOther"
                        :on-success="handleSuccessOther"
                        :before-remove="beforeRemoveOther"
                        :auto-upload="false"
                >
                    <el-button slot="trigger" size="medium" type="primary">选取图片</el-button>
                    <el-button style="margin-left: 10px;" size="medium" type="success" @click="uploadPicture">上传文件</el-button>
                </el-upload>
                <div id="box1"></div>
            </div>
        </div>
    </div>

</div>
   
<script src="../js/vue.js"></script>
<script src="../element-ui/lib/index.js"></script>
<link rel="stylesheet" href="../element-ui/lib/theme-chalk/index.css">
<script src="../js/axios-0.18.0.js"></script>


<script>
    new Vue({
        el:"#app",
        mounted(){
            
            
        },
        methods: {
    
            uploadPicture(){
                this.$refs.uploadPicture.submit();
            },
            handleSuccessOther(res,file){
                console.log(res.data)
            },
            handleChangeOther(file, fileList1) {
                this.fileList1 = fileList1.slice();
            },
            handleRemoveOther(file, fileList1) {
                console.log(file, fileList1);
            },
            beforeRemoveOther(file, fileList1) {
                return this.$confirm(`确定移除 ${ file.name }？`);
            },
            beforeUploadOther(file){
                console.log("333")
                const extension3 = file.name.split('.')[1] === 'jpg'
                const extension4 = file.name.split('.')[1] === 'jpeg'
                const extension5 = file.name.split('.')[1] === 'png'

                const isLt2M = file.size / 1024 / 1024 < 50
                if (!!extension3 && !extension4 && !extension5) {
                    this.$message.warning('上传的文件格式不正确!');
                }
                if (!isLt2M) {
                    this.$message.warning('上传模板大小不能超过 50MB!')
                }
                return extension3 || extension4 || extension5 || isLt2M;
            },
        },
        data() {
            return {
                //其他文件上传
                fileList1: [],
            }
        }
    })
    var echart1 = echarts.init(document.getElementById('echart1'))

    //4.准备配置项（不同的图表只有这个不同）
    var xDataArr=['类别1', '类别2', '类别3', '类别4','类别5','类别6','类别7','类别8', '类别9']
    var yDataArr=[3000,2800,900,1000,800,700,1400,1300,900]

    var option1 = {
        title: {
            text: '按不同类别统计',
        },
        //x轴
        xAxis: {
            type: 'category',
            data: xDataArr,
            //紧挨边缘
            boundaryGap:false,//没有间隔

        },
        //y轴
        yAxis: {
            type: 'value',
            //脱离0值比例
            scale: true,
        },
        //工具栏
        toolbox: {
            feature: {
                saveAsImage: {},//导出图片
                dataView: {},//数据视图
                restore: {},//重置
                dataZoom: {},//区域缩放
                magicType: {//动态图表类型的切换
                    type: ['bar','line']
                }
            }
        },
        //系列
        series: {
            name: '类别',
            //line代表折线图
            type: 'line',
            data: yDataArr,

            //标记
            markPoint: {
                data: [
                    {type: 'max',name:'最大值'},
                    {type: 'min',name:'最小值'}
                ]
            },
            markLine: {
                data: [
                    {type: 'average',name:'平均值'},
                ]
            },
            //线条控制
            smooth: true,//平滑效果
            lineStyle: {
                color: 'blue',
                type: 'dashed',//dashed虚线，dotted点线，solid实线
            },

            //填充风格
            areaStyle: {
                color: 'pink',
            },

        },

    }
    //将配置项设置给echarts实例对象
    echart1.setOption(option1)
</script>
</body>
</html>

